<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Calculator</title>

        <link rel="stylesheet" type="text/css" href="../css/styles.css">
        <link rel="stylesheet" type="text/css" href="../css/calculator-styles.css">

        <script>
            
            function appendToDisplay(value) {
                let display = document.getElementById('display');
                // If the display is empty, only allow numbers as the first character
                if (display.value === '' && isNaN(value)) {
                    return; // Do nothing if the first character is not a number
                }
                display.value += value;

                // Automatically calculate the result after updating the display
                calculateResult();
            }

            function clearDisplay() {
                document.getElementById('display').value = '';
                document.getElementById('result').value = '';
            }

            function deleteDisplay() {
                let display = document.getElementById('display');
                if (display.value.length > 0) {
                    display.value = display.value.slice(0, -1);

                    // Automatically calculate the result after updating the display
                    calculateResult();
                }
            }

            function calculateResult() {
                try {
                    let display = document.getElementById('display').value;

                    // Replace all occurrences of '%' with '/100'
                    let sanitizedDisplay = display.replace(/%/g, "/100");
                    let result = eval(sanitizedDisplay);
                    document.getElementById('result').value = result;
                } catch (error) {
                    return;
                }
            }

            
        </script>
    </head>

    <body>

        <header>
            <nav id="navbar">
                <div id="desktop-nav" class="container">
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                    </ul>
                </div>               
            </nav>
        </header>

        <main>
            <div class="container">

                <div id="hero">
                    <h1>Calculator</h1>
                    <p>Welcome to the Calculator application! Here you can perform basic arithmetic operations.</p>
                </div>
                
                <div id="calculator">
                    <input type="text" id="display" readonly>
                    <input type="text" id="result" readonly>
                    <div id="buttons">
                        <button class="highlight" onclick="clearDisplay()">AC</button>
                        <button class="highlight" onclick="deleteDisplay()">DEL</button>
                        <button class="highlight" onclick="appendToDisplay('%')">%</button>
                        <button class="highlight" onclick="appendToDisplay('/')">/</button>
                        <button onclick="appendToDisplay('7')">7</button>
                        <button onclick="appendToDisplay('8')">8</button>
                        <button onclick="appendToDisplay('9')">9</button>
                        <button class="highlight" onclick="appendToDisplay('*')">*</button>
                        <button onclick="appendToDisplay('4')">4</button>
                        <button onclick="appendToDisplay('5')">5</button>
                        <button onclick="appendToDisplay('6')">6</button>
                        <button class="highlight" onclick="appendToDisplay('-')">-</button>
                        <button onclick="appendToDisplay('1')">1</button>
                        <button onclick="appendToDisplay('2')">2</button>
                        <button onclick="appendToDisplay('3')">3</button>
                        <button class="highlight" onclick="appendToDisplay('+')">+</button>
                        <button onclick="appendToDisplay('0')">0</button>
                        <button onclick="appendToDisplay('00')">00</button>
                        <button class="highlight" onclick="appendToDisplay('.')">.</button>
                        <button id="equal" class="highlight" onclick="calculateResult()">=</button>
                    </div>
                </div>
                         
            </div>
            
        </main>

        <script>

        </script>

    </body>

</html>